import matplotlib.pyplot as plt
import numpy as np

# 数据
freq = np.array([
    500, 600, 700, 800, 900, 1000,
    2000, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000,
    20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000,
    200000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000
])
phase = np.array([
    90.07328, 90.09348, 134.3165, 134.3367, 134.3569, 134.3771,
    153.6031, 162.198, 159.0428, 159.2448, 159.1111, 157.075,
    155.5984, 153.0028, 149.6238,
    34.25457, 11.99101, 7.184753, 5.176144, 4.174687, 3.397041,
    2.843207, 2.513185, 2.183163,
    1.009152, 0.618481, 0.451622, 0.508574, 0.453621,
    0.398668, 0.231809, 0.513593, 0.570546
])
amp = np.array([
    0.008468, 0.004234, 0.004234, 0.004234, 0.008468, 0.008468,
    0.02117, 0.038107, 0.07198, 0.110086, 0.16513, 0.237109,
    0.326025, 0.44458, 0.601242,
    1.304101, 1.202483, 1.134738, 1.079694, 1.050056, 1.028885,
    1.016183, 1.003481, 0.999246,
    0.978076, 0.978076, 0.978076, 0.973842, 0.973842,
    0.973842, 0.973842, 0.973842, 0.969608
])

# 绘图
plt.figure(figsize=(12, 6))

# 幅度图（对数X轴）
plt.subplot(2, 1, 1)
plt.semilogx(freq, amp, color='blue')
plt.grid(True, which="both", ls='--')
plt.xlabel("Frequency (Hz)")
plt.ylabel("Amplitude (V)")
plt.title("Frequency Response - Amplitude")

# 相位图（对数X轴）
plt.subplot(2, 1, 2)
plt.semilogx(freq, phase, color='green')
plt.grid(True, which="both", ls='--')
plt.xlabel("Frequency (Hz)")
plt.ylabel("Phase (Degrees)")
plt.title("Frequency Response - Phase")

plt.tight_layout()
plt.show()
